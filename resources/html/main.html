<html>
  <head>
    <title>Stabby UI</title>
    <link rel="stylesheet/less" type="text/css" href="/resources/css/main.less">
    <script type="text/javascript" src="/resources/js/jquery.1.7.1.min.js"></script>
    <script type="text/javascript" src="/resources/js/main.js"></script>
    <script type="text/javascript" src="/resources/js/less-1.3.0.min.js"></script>
  </head>
  <body>
    <div id="info">
      <h3>Information</h3>
      <div>
        tick:&nbsp;<div id="tick">0</div>
      </div>
      <div>
        Queue:<br /><div id="queue"></div>
      </div>
    </div>

    <div id="map">
      <h3>Map</h3>
      <canvas id="canvas-board" width="900" height="675"></canvas>
      <div id="board">
        Click start to load map...
      </div>
    </div>

    <div id="controls">
      <h3>Controls</h3>
      <div id="start">START GAME</div>
      <br />
      <!-- Will be populated by javascript -->
      <div id="dynamic-controls"></div>
      <div id="ready">READY!</div>
    </div>

    <script>
      window.me = "{{.Me}}";
      window.gamekey = "{{.Gamekey}}";
      window.websocket_path = "{{.Host}}";

      console.log("me: " + me);
      console.log("gamekey: " + gamekey);
      console.log("websocket: " + websocket_path);

      if (window["WebSocket"] == null) {
          console.log("Err: Your browser doesn't support WebSockets");
      } else {
        window.conn = new WebSocket(websocket_path);
        conn.onopen = socketOpened;
        conn.onclose = socketClosed;
        conn.onerror = socketErrored;
        conn.onmessage = socketMessaged;
      }
    </script>
  </body>
</html>
